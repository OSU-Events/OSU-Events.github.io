(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{404:function(e,t,n){e.exports=n(497)},493:function(e,t,n){var a={"./af":196,"./af.js":196,"./ar":197,"./ar-dz":198,"./ar-dz.js":198,"./ar-kw":199,"./ar-kw.js":199,"./ar-ly":200,"./ar-ly.js":200,"./ar-ma":201,"./ar-ma.js":201,"./ar-sa":202,"./ar-sa.js":202,"./ar-tn":203,"./ar-tn.js":203,"./ar.js":197,"./az":204,"./az.js":204,"./be":205,"./be.js":205,"./bg":206,"./bg.js":206,"./bm":207,"./bm.js":207,"./bn":208,"./bn-bd":209,"./bn-bd.js":209,"./bn.js":208,"./bo":210,"./bo.js":210,"./br":211,"./br.js":211,"./bs":212,"./bs.js":212,"./ca":213,"./ca.js":213,"./cs":214,"./cs.js":214,"./cv":215,"./cv.js":215,"./cy":216,"./cy.js":216,"./da":217,"./da.js":217,"./de":218,"./de-at":219,"./de-at.js":219,"./de-ch":220,"./de-ch.js":220,"./de.js":218,"./dv":221,"./dv.js":221,"./el":222,"./el.js":222,"./en-au":223,"./en-au.js":223,"./en-ca":224,"./en-ca.js":224,"./en-gb":225,"./en-gb.js":225,"./en-ie":226,"./en-ie.js":226,"./en-il":227,"./en-il.js":227,"./en-in":228,"./en-in.js":228,"./en-nz":229,"./en-nz.js":229,"./en-sg":230,"./en-sg.js":230,"./eo":231,"./eo.js":231,"./es":232,"./es-do":233,"./es-do.js":233,"./es-mx":234,"./es-mx.js":234,"./es-us":235,"./es-us.js":235,"./es.js":232,"./et":236,"./et.js":236,"./eu":237,"./eu.js":237,"./fa":238,"./fa.js":238,"./fi":239,"./fi.js":239,"./fil":240,"./fil.js":240,"./fo":241,"./fo.js":241,"./fr":242,"./fr-ca":243,"./fr-ca.js":243,"./fr-ch":244,"./fr-ch.js":244,"./fr.js":242,"./fy":245,"./fy.js":245,"./ga":246,"./ga.js":246,"./gd":247,"./gd.js":247,"./gl":248,"./gl.js":248,"./gom-deva":249,"./gom-deva.js":249,"./gom-latn":250,"./gom-latn.js":250,"./gu":251,"./gu.js":251,"./he":252,"./he.js":252,"./hi":253,"./hi.js":253,"./hr":254,"./hr.js":254,"./hu":255,"./hu.js":255,"./hy-am":256,"./hy-am.js":256,"./id":257,"./id.js":257,"./is":258,"./is.js":258,"./it":259,"./it-ch":260,"./it-ch.js":260,"./it.js":259,"./ja":261,"./ja.js":261,"./jv":262,"./jv.js":262,"./ka":263,"./ka.js":263,"./kk":264,"./kk.js":264,"./km":265,"./km.js":265,"./kn":266,"./kn.js":266,"./ko":267,"./ko.js":267,"./ku":268,"./ku.js":268,"./ky":269,"./ky.js":269,"./lb":270,"./lb.js":270,"./lo":271,"./lo.js":271,"./lt":272,"./lt.js":272,"./lv":273,"./lv.js":273,"./me":274,"./me.js":274,"./mi":275,"./mi.js":275,"./mk":276,"./mk.js":276,"./ml":277,"./ml.js":277,"./mn":278,"./mn.js":278,"./mr":279,"./mr.js":279,"./ms":280,"./ms-my":281,"./ms-my.js":281,"./ms.js":280,"./mt":282,"./mt.js":282,"./my":283,"./my.js":283,"./nb":284,"./nb.js":284,"./ne":285,"./ne.js":285,"./nl":286,"./nl-be":287,"./nl-be.js":287,"./nl.js":286,"./nn":288,"./nn.js":288,"./oc-lnc":289,"./oc-lnc.js":289,"./pa-in":290,"./pa-in.js":290,"./pl":291,"./pl.js":291,"./pt":292,"./pt-br":293,"./pt-br.js":293,"./pt.js":292,"./ro":294,"./ro.js":294,"./ru":295,"./ru.js":295,"./sd":296,"./sd.js":296,"./se":297,"./se.js":297,"./si":298,"./si.js":298,"./sk":299,"./sk.js":299,"./sl":300,"./sl.js":300,"./sq":301,"./sq.js":301,"./sr":302,"./sr-cyrl":303,"./sr-cyrl.js":303,"./sr.js":302,"./ss":304,"./ss.js":304,"./sv":305,"./sv.js":305,"./sw":306,"./sw.js":306,"./ta":307,"./ta.js":307,"./te":308,"./te.js":308,"./tet":309,"./tet.js":309,"./tg":310,"./tg.js":310,"./th":311,"./th.js":311,"./tk":312,"./tk.js":312,"./tl-ph":313,"./tl-ph.js":313,"./tlh":314,"./tlh.js":314,"./tr":315,"./tr.js":315,"./tzl":316,"./tzl.js":316,"./tzm":317,"./tzm-latn":318,"./tzm-latn.js":318,"./tzm.js":317,"./ug-cn":319,"./ug-cn.js":319,"./uk":320,"./uk.js":320,"./ur":321,"./ur.js":321,"./uz":322,"./uz-latn":323,"./uz-latn.js":323,"./uz.js":322,"./vi":324,"./vi.js":324,"./x-pseudo":325,"./x-pseudo.js":325,"./yo":326,"./yo.js":326,"./zh-cn":327,"./zh-cn.js":327,"./zh-hk":328,"./zh-hk.js":328,"./zh-mo":329,"./zh-mo.js":329,"./zh-tw":330,"./zh-tw.js":330};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=493},496:function(e,t,n){(function(e){e.gUser={type:"none",onid:"none",email:"none"}}).call(this,n(57))},497:function(e,t,n){"use strict";n.r(t);var a=n(517),r=n(20),o=n.n(r),i=n(17),s=n.n(i),l=n(0),c=n.n(l),u=n(16),d=n(21),h=n(1),f=n(2),p=n(336),m=n(518),g=n(151),v=n(9),y=n.n(v),b=n(10),E=n.n(b),x=n(11),w=n.n(x),S=n(12),j=n.n(S),k=n(4),C=n.n(k),z=n(5),D=n.n(z),T=n(26),R=n(46),I=n.n(R),B=n(338),F="https://osu-event-server.herokuapp.com/",P=function(e){var t={email:e};return I()({method:"post",url:"https://osu-event-server.herokuapp.com/login/",data:t})},A=function(){return I.a.get(F)},U=function(e,t,n){var a=F+"addattendee/"+e+"/"+t+"/"+n+"/",r=JSON.stringify(e,t,n);return I()({method:"get",url:a,data:r})},M=function(e,t,n){var a=F+"removeattendee/"+e+"/"+t+"/"+n+"/",r=JSON.stringify(e,t,n);return I()({method:"get",url:a,data:r})},L=function(e){var t=F+"getattendee/"+e;return I()({method:"get",url:t})},O=function(e){var t=F+"getmyevents/"+e;return I()({method:"get",url:t})},W=function(e){var t=F+"getmyownedevents/"+e;return I()({method:"get",url:t})},V=function(e){return I.a.get(F+"search/"+e)},Y=function(e,t,n,a,r,o,i,s){var l={id:Object(B.v4)(),name:e,description:t,location:n,edate:a,etime:r,slots:o,maxslots:i,author:s};return I()({method:"post",url:"https://osu-event-server.herokuapp.com/add/",data:l})},N=function(e,t,n,a,r,o,i,s){var l={id:e,name:t,description:n,location:a,edate:r,etime:o,slots:i,maxslots:s};return I()({method:"put",url:"https://osu-event-server.herokuapp.com/edit/",data:l})},H=function(e){return I.a.get(F+"getByDay/"+e)},$=n(380),J=n(45);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var Z=function(e){w()(n,e);var t=G(n);function n(e){var a;return y()(this,n),(a=t.call(this,e)).updateField=function(e){return function(t){a.setState(D()({},e,t))}},a.addToEvents=function(){var e,t,n,r,o,i,l,c,u,d,h,f;return s.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(e=a.state,t=e.name,n=e.description,r=e.location,o=e.eDate,i=e.eTime,""===(l=a.state.maxslots)&&(l=0),!(String(t).length>=3&&10==String(o).length&&5==String(i).length&&parseInt(l)>=0)){p.next=34;break}if(/^\d+$/.test(o.substr(5,2))&&/^\d+$/.test(o.substr(8,2))&&/^\d+$/.test(o.substr(0,4))){p.next=7;break}return alert("Date is invalid"),p.abrupt("return");case 7:if(parseInt(o.substr(5,2),10)>=0&&parseInt(o.substr(5,2),10)<13&&parseInt(o.substr(8,2),10)>=0&&parseInt(o.substr(8,2),10)<32){p.next=10;break}return alert("Date Range is Incorrect"),p.abrupt("return");case 10:if(c=o.substr(0,4)+"-"+o.substr(5,2)+"-"+o.substr(8,2)+"T00:00:00.000Z",/^\d+$/.test(i.substr(0,2))&&/^\d+$/.test(i.substr(3,2))){p.next=14;break}return alert("Time is invalid"),p.abrupt("return");case 14:if(parseInt(i.substr(0,2),10)>=0&&parseInt(i.substr(0,2),10)<24&&parseInt(i.substr(3,2),10)>=0&&parseInt(i.substr(3,2),10)<60){p.next=17;break}return alert("Invalid time of the day"),p.abrupt("return");case 17:return u=i.substr(0,2)+":"+i.substr(3,2)+":00",p.prev=18,p.next=21,s.a.awrap(Y(t,n,r,c,u,0,parseInt(l),gUser.email));case 21:d=p.sent,p.next=28;break;case 24:return p.prev=24,p.t0=p.catch(18),alert("Invalid day of the month"),p.abrupt("return");case 28:h=JSON.parse(d.config.data),d&&gUser.events.push({eventsid:h.id}),f=a.props.route.params.lastPage,a.props.navigation.navigate(f),p.next=35;break;case 34:alert("Check information again");case 35:case"end":return p.stop()}}),null,null,[[18,24]],Promise)},a.state={name:"",description:"",location:"",eDate:"",eTime:"",slots:0,maxslots:0,author:"default",lastPage:null},a}return E()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){console.log(e.props.route.params.lastPage),e.setState({lastPage:e.props.route.params.lastPage})}));return function(){clearTimeout(interval)}}},{key:"render",value:function(){var e=this,t=15;return T.a.get("window").width>400&&(t=26),c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:q.viewBar},c.a.createElement(d.a,{style:q.backBox,onPress:function(){return e.props.navigation.navigate(e.state.lastPage)}},c.a.createElement($.a,{name:"arrow-left",size:42,color:"gray"}))),c.a.createElement(f.a,{style:q.formstyle},c.a.createElement(J.a,{placeholder:"Event Name",onChangeText:this.updateField("name"),style:{fontSize:t}}),c.a.createElement(f.a,{style:q.inline},c.a.createElement(J.a,{placeholder:"HH:MM",onChangeText:this.updateField("eTime"),label:"Time (24 Hr)",maxLength:5,containerStyle:q.formInputTime,style:{fontSize:t},labelStyle:{fontSize:t/1.5}}),c.a.createElement(J.a,{placeholder:"YYYY-MM-DD",onChangeText:this.updateField("eDate"),label:"Date",maxLength:10,containerStyle:q.formInputDate,style:{fontSize:t},labelStyle:{fontSize:t/1.5}})),c.a.createElement(J.a,{adjustsFontSizeToFit:!0,placeholder:"Location",onChangeText:this.updateField("location"),style:{fontSize:t}}),c.a.createElement(J.a,{placeholder:"Description",onChangeText:this.updateField("description"),style:{fontSize:t}}),c.a.createElement(J.a,{placeholder:"Leave Blank for Unlimited",onChangeText:this.updateField("maxslots"),label:"Max Attendees",style:{fontSize:t},labelStyle:{fontSize:t/1.5}}),c.a.createElement(d.a,{onPress:this.addToEvents,style:q.finishCreateButton,color:"#ff9900",title:"Submit Event"},c.a.createElement(u.a,{style:q.finishCreateText},"Publish"))))}}]),n}(l.Component),q=h.a.create({icon:{textAlign:"center",marginTop:-3},viewBar:{display:"flex",padding:20,flexDirection:"row",width:"100%",justifyContent:"space-between"},formstyle:{flex:1,alignItems:"center",width:"90%",marginLeft:"auto",marginRight:"auto",justifyContent:"center"},formInput:{paddingLeft:10,marginBottom:20,borderStyle:"solid",borderWidth:1,borderRadius:10,borderColor:"gray",fontSize:30,width:"100%"},inline:{width:"100%",flexDirection:"row",flexWrap:"wrap",display:"flex"},formInputDescription:{paddingLeft:10,marginBottom:20,borderStyle:"solid",borderWidth:1,borderRadius:10,borderColor:"gray",fontSize:18,width:"100%"},formInputTime:{width:"50%"},formInputDate:{width:"50%"},buttonText:{fontSize:30,color:"grey"},finishCreateButton:{backgroundColor:"#D73F09",borderRadius:12,width:"100%"},finishCreateText:{textAlign:"center",color:"white",fontSize:40,height:20,paddingTop:20,paddingBottom:70,width:"100%"}}),K=n(516),Q=n(13),_=n.n(Q);function X(e){var t=+(e=(e=e.split(" ")[0]).replace(/:\d\d([ ap]|$)/,"$1")).substr(0,2),n=t<12||24===t?"AM":"PM";return e=(t%12||12)+e.substr(2,3)+" "+n}var ee=n(70),te=(n(179),n(397));function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var ae=20;T.a.get("window").width>400&&(ae=36);var re=function(e){w()(n,e);var t=ne(n);function n(e){var a;return y()(this,n),(a=t.call(this,e)).state={menu:!1,signedup:[],data:null,eventList:0,issignedup:!1,hasNewData:!1,slots:0},a.delFun=a.delFun.bind(_()(a)),a.signOut=a.signOut.bind(_()(a)),a.syncFun=a.syncFun.bind(_()(a)),a.openMenu=a.openMenu.bind(_()(a)),a}return E()(n,[{key:"componentDidMount",value:function(){var e=this.props.route.params.id;this.getList(e),this.setState({slots:this.props.route.params.slots}),this.props.route.params.slots>0&&this.setState({issignedup:!0})}},{key:"getList",value:function(e){var t,n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(L(e));case 2:t=a.sent,n=t.data,this.setState({signedup:n});case 5:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"addToList",value:function(e,t){var n,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.state.slots==t&&0!=t){r.next=8;break}return this.setState({issignedup:!0,slots:this.state.slots+1}),n=gUser.email,a=gUser.onid,gUser.events.push({eventsid:e,email:n,onid:a}),r.next=6,s.a.awrap(U(e,n,a));case 6:return r.next=8,s.a.awrap(this.getList(e));case 8:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"unAddToList",value:function(e){var t,n,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setState({slots:this.state.slots-1,issignedup:!1}),t=gUser.email,n=gUser.onid,a=gUser.events.findIndex((function(t){return t.eventsid==e})),gUser.events.splice(a,1),r.next=6,s.a.awrap(M(e,t,n));case 6:return r.next=8,s.a.awrap(this.getList(e));case 8:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"showAttendees",value:function(){var e=this.state.signedup;if(e[0]){var t=[];return e.forEach((function(e){t.push(c.a.createElement(u.a,{style:oe.studentsSignedUp,key:e.email},e.email))})),t}}},{key:"syncFun",value:function(){}},{key:"delFun",value:function(){if(confirm("Are you sure you want to delete this event?\n\nYou will not be able to recover it...")){var e=this.props.route.params,t=e.id,n=e.lastPage;!function(e){I.a.get(F+"remove/"+e)}(t),this.props.navigation.navigate(n)}}},{key:"signOut",value:function(){ee.firebase.auth().signOut().then((function(){window.location.href="/"})).catch((function(e){alert("Could not sign out")}))}},{key:"signForm",value:function(){if(0==this.state.doSign)return c.a.createElement(f.a,{style:oe.signSheet},c.a.createElement(d.a,{style:oe.optionContainerTop,onPress:this.syncFun},c.a.createElement(u.a,{style:oe.syncCalendar},"Sync Calendar ",c.a.createElement($.a,{name:"check-circle",size:40}))),c.a.createElement(d.a,{style:oe.optionContainerBottom,onPress:this.delFun},c.a.createElement(u.a,{style:oe.deleteEvent},"Delete Event ",c.a.createElement($.a,{name:"trash",size:40}))))}},{key:"openMenu",value:function(){this.setState({menu:!this.state.menu})}},{key:"render",value:function(){var e=this,t=this.props.route.params,n=t.id,a=t.name,r=t.edate,o=t.location,i=t.description,s=t.etime,l=t.maxslots,h=t.slots,p=t.lastPage,m=t.owned;return c.a.createElement(f.a,{style:oe.container},this.state.menu&&c.a.createElement(f.a,{style:oe.signSheet},c.a.createElement(d.a,{style:oe.optionContainerTop,onPress:this.syncFun},c.a.createElement(u.a,{style:oe.syncCalendar},"Sync Calendar ",c.a.createElement($.a,{name:"check-circle",size:40}))),(m||"Master"===gUser.type)&&c.a.createElement(d.a,{style:oe.optionContainer,onPress:this.delFun},c.a.createElement(u.a,{style:oe.deleteEvent},"Delete Event ",c.a.createElement($.a,{name:"trash",size:40}))),c.a.createElement(d.a,{style:oe.optionContainerBottom,onPress:this.signOut},c.a.createElement(u.a,{style:oe.logout},"Sign Out ",c.a.createElement($.a,{name:"log-out",size:40})))),c.a.createElement(f.a,{style:oe.viewBar},c.a.createElement(d.a,{style:oe.backBox,onPress:function(){return e.props.navigation.navigate(p)}},c.a.createElement($.a,{name:"arrow-left",size:42,color:"gray"})),c.a.createElement(d.a,{style:oe.optionBox,onPress:this.openMenu},c.a.createElement($.a,{name:"more-vertical",size:42,color:"gray"}))),c.a.createElement(te.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},c.a.createElement(f.a,{style:oe.displayCard},c.a.createElement(u.a,{style:oe.cardTitle},a),c.a.createElement(u.a,{style:oe.cardWhenWhere},r.slice(0,10)),c.a.createElement(u.a,{style:oe.cardWhenWhere},o," at ",X(s)),l>0&&c.a.createElement(u.a,{style:oe.cardWhenWhere},this.state.slots,"/",l," spots available"),c.a.createElement(u.a,{style:oe.cardDescription},i),m&&h>0&&c.a.createElement(u.a,{style:oe.studentsSignedUpHeader},"Students Signed Up"),m&&this.showAttendees())),m?c.a.createElement(d.a,{style:oe.editbutton,title:"Edit Event",color:"#ff9900",onPress:function(){return e.props.navigation.navigate("EditEvent",{lastPage:"EventView",id:n,name:a,edate:r,location:o,description:i,etime:s,slots:h,maxslots:l})}},c.a.createElement($.a,{style:oe.icon,name:"edit-3",size:35,color:"white"})):this.state.issignedup?c.a.createElement(d.a,{onPress:function(){return e.unAddToList(n)},style:oe.signedupButton,color:"#ff9900",title:"Submit Event"},c.a.createElement(u.a,{style:oe.signedupText},"Leave")):c.a.createElement(d.a,{onPress:function(){return e.addToList(n,l)},style:oe.signUpButton,color:"#ff9900",title:"Submit Event"},c.a.createElement(u.a,{style:oe.signUpText},"Sign Up")))}}]),n}(l.Component),oe=h.a.create({icon:{textAlign:"center",marginTop:-3},viewBar:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},editbutton:{position:"fixed",width:60,height:60,borderRadius:30,zIndex:0,backgroundColor:"#D73F09",margin:0,marginLeft:"auto",padding:13,position:"absolute",bottom:18,right:10,textAlign:"center"},container:{padding:20,position:"absolute",zIndex:0,width:"100%",height:"100%",justifyContent:"center"},backBox:{fontSize:40,color:"darkgrey",width:45},signSheetClose:{color:"black",fontSize:25,textAlign:"right",marginTop:5,marginRight:5},signSheetText:{fontSize:25,marginTop:25,marginLeft:3,marginRight:3,textAlign:"center"},syncCalendar:{color:"gray",fontSize:40,marginTop:10,marginLeft:3},deleteEvent:{color:"tomato",fontSize:40,marginTop:10,marginLeft:3},logout:{color:"orange",fontSize:40,marginTop:10,marginLeft:3},optionContainer:{padding:10,paddingTop:5,height:80,backgroundColor:"white",borderBottomColor:"lightgrey",borderBottomWidth:1,width:"100%",textAlign:"center"},optionContainerTop:{padding:10,paddingTop:5,height:80,backgroundColor:"white",borderBottomColor:"lightgrey",borderBottomWidth:1,borderTopLeftRadius:16,borderTopRightRadius:16,width:"100%",textAlign:"center"},optionContainerBottom:{padding:10,paddingTop:5,height:80,backgroundColor:"white",borderBottomColor:"lightgrey",borderBottomWidth:1,borderBottomLeftRadius:16,borderBottomRightRadius:16,width:"100%",textAlign:"center"},signSheet:{position:"absolute",height:"auto",top:90,right:20,width:"100%",maxWidth:350,zIndex:2,backgroundColor:"white",borderColor:"lightgrey",borderWidth:2,borderRadius:16},optionBox:{alignSelf:"flex-end",margin:0,marginRight:-20,zIndex:1,paddingRight:20,paddingLeft:20},cardElement:{marginLeft:"5%",marginRight:"5%"},cardWhenWhere:{color:"grey",textAlign:"left",fontSize:ae/1.2},displayCard:{width:"100%",height:"100%",paddingBottom:80},cardDescription:{paddingTop:10,textAlign:"left",fontSize:ae},cardTitle:{paddingTop:10,textAlign:"left",fontSize:ae},signUpButton:{position:"absolute",bottom:75,backgroundColor:"white",borderRadius:16,borderWidth:1,display:"flex",margin:"auto",borderColor:"black",width:"90%"},signUpText:{textAlign:"center",color:"black",fontSize:40,height:20,paddingTop:20,paddingBottom:70,width:"100%"},signedupButton:{position:"absolute",bottom:75,backgroundColor:"#D73F09",borderRadius:16,borderWidth:1,display:"flex",margin:"auto",borderColor:"#D73F09",width:"90%"},signedupText:{textAlign:"center",color:"white",fontSize:40,height:20,paddingTop:20,paddingBottom:70,width:"100%"},studentsSignedUp:{fontSize:ae/1.5},studentsSignedUpHeader:{fontSize:ae/1.5,fontWeight:"bold",paddingTop:20}}),ie=n(37),se=n(43),le=20;function ce(e,t,n,a){return n?n.map((function(n){if(gUser.events){if(!gUser.events)return;var r=gUser.events.some((function(e){return void 0!=e.email&&e.eventsid==n.id})),o=gUser.events.some((function(e){return void 0==e.email&&e.eventsid==n.id}));return c.a.createElement(d.a,{key:n.id,onPress:function(){return e.navigate("EventView",{id:n.id,name:n.name,location:n.location,description:n.description,etime:n.etime,maxslots:n.maxslots,slots:n.slots,edate:n.edate,lastPage:t,owned:n.author==gUser.email,signedup:n.signedup})}},(a&&!o&&!r||!a&&(o||r))&&c.a.createElement(f.a,{style:ue.event},n.author==gUser.email?c.a.createElement(f.a,{style:ue.icon}):c.a.createElement(f.a,null),r?c.a.createElement(u.a,{style:ue.titleOrange},decodeURIComponent(n.name)):c.a.createElement(u.a,{style:ue.title},decodeURIComponent(n.name)),c.a.createElement(u.a,{style:ue.location},n.edate.slice(0,10)),c.a.createElement(u.a,{style:ue.location},decodeURIComponent(n.location)," at ",X(n.etime)),c.a.createElement(u.a,{style:ue.description},decodeURIComponent(n.description.length)>50?decodeURIComponent(n.description).slice(0,50)+"...":decodeURIComponent(n.description)),n.maxslots>0&&c.a.createElement(J.b,{variant:"determinate",color:"#D73F09",value:n.slots/n.maxslots})))}})):c.a.createElement(u.a,null)}T.a.get("window").width>400&&(le=26);var ue=h.a.create({icon:{position:"absolute",right:20,top:20,backgroundColor:"#D73F09",borderRadius:12.5,height:25,width:25},event:{flexDirection:"column",padding:20,borderWidth:0,borderBottomWidth:1,borderColor:"gray",borderStyle:"solid"},title:{color:"black",fontWeight:"bold",fontSize:le},titleOrange:{color:"#D73F09",fontWeight:"bold",fontSize:le},description:{fontSize:le/1.3,marginBottom:10},location:{fontSize:le/1.3,fontStyle:"italic",color:"gray"}});function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var he=function(e){w()(n,e);var t=de(n);function n(e){var a;return y()(this,n),(a=t.call(this,e)).updateField=function(e){return function(t){(t=t.replace(/\W/g,""))!=a.state.search&&a.setState(D()({},e,t),(function(){""!=a.state.search?a.searchEvents():a.getEvent()}))}},a.state={data:null,readyToLoad:!1,search:""},a}return E()(n,[{key:"componentDidMount",value:function(){var e=this;this.getMyEvents();this.props.navigation.addListener("focus",(function(){e.getEvent()}));return function(){clearTimeout(interval)}}},{key:"getEvent",value:function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(A());case 2:e=n.sent,t=e.data,this.setState({data:t});case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"searchEvents",value:function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(V(this.state.search.toUpperCase()));case 2:e=n.sent,(t=e.data)&&this.setState({data:t});case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"getMyEvents",value:function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(O(gUser.email));case 2:return e=n.sent,t=e.data,n.next=6,s.a.awrap(W(gUser.email));case 6:n.sent.data.forEach((function(e){t.push({eventsid:e.id})})),gUser.events=Object.values(t),this.setState({readyToLoad:!0});case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.state.readyToLoad;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},c.a.createElement(c.a.Fragment,null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:fe.eventbox},t&&ce(this.props.navigation,"ViewMyEvents",this.state.data,!1))):c.a.createElement(ie.a,{style:{top:"50%"}}))),c.a.createElement(J.c,{placeholder:"Search Here...",onChangeText:this.updateField("search"),value:this.state.search,lightTheme:!0,style:fe.searchbar,inputContainerStyle:fe.searchbarcontainer,containerStyle:{backgroundColor:"white"}}),"Student"!==gUser.type?c.a.createElement(d.a,{style:fe.createbutton,title:"Add Event",color:"#ff9900",onPress:function(){return e.props.navigation.navigate("CreateEvent",{lastPage:"ViewMyEvents"})}},c.a.createElement($.a,{style:fe.icon,name:"edit",size:35,color:"white"})):c.a.createElement(f.a,null))}}]),n}(l.Component),fe=h.a.create({icon:{textAlign:"center",marginTop:-3},createbutton:{position:"fixed",width:60,height:60,borderRadius:30,zIndex:0,backgroundColor:"#D73F09",margin:20,marginLeft:"auto",padding:13,position:"absolute",bottom:18,right:10,textAlign:"center"},eventbox:{flexDirection:"column",flex:1,width:"100%",position:"absolute"},searchbar:{backgroundColor:"white",borderColor:"white"},searchbarcontainer:{backgroundColor:"white",borderColor:"white"}});function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var me=function(e){w()(n,e);var t=pe(n);function n(e){var a;return y()(this,n),(a=t.call(this,e)).updateField=function(e){return function(t){a.setState(D()({},e,t))}},a.editEvent=function(){var e,t,n,r,o,i,l,c,u,d,h,f,p,m;return s.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(e=a.state,t=e.name,n=e.description,r=e.location,o=e.slots,i=a.state,l=i.eDate,c=i.eTime,u=i.maxslots,24==l.length&&(l=l.substr(0,10)),8==c.length&&(c=c.substr(0,5)),""===u&&(u=0),!(String(t).length>=3&&String(r).length>=2&&10==String(l).length&&5==String(c).length)){g.next=33;break}if(/^\d+$/.test(l.substr(5,2))&&/^\d+$/.test(l.substr(8,2))&&/^\d+$/.test(l.substr(0,4))){g.next=9;break}return alert("Date is invalid"),g.abrupt("return");case 9:if(parseInt(l.substr(5,2),10)>=0&&parseInt(l.substr(5,2),10)<13&&parseInt(l.substr(8,2),10)>=0&&parseInt(l.substr(8,2),10)<32){g.next=12;break}return alert("Date Range is Incorrect"),g.abrupt("return");case 12:if(d=l.substr(0,4)+"-"+l.substr(5,2)+"-"+l.substr(8,2)+"T00:00:00.000Z",/^\d+$/.test(c.substr(0,2))&&/^\d+$/.test(c.substr(3,2))){g.next=16;break}return alert("Time is invalid"),g.abrupt("return");case 16:if(parseInt(c.substr(0,2),10)>=0&&parseInt(c.substr(0,2),10)<24&&parseInt(c.substr(3,2),10)>=0&&parseInt(c.substr(3,2),10)<60){g.next=19;break}return alert("Invalid time of the day"),g.abrupt("return");case 19:return h=c.substr(0,2)+":"+c.substr(3,2)+":00",g.prev=20,g.next=23,s.a.awrap(N(a.props.route.params.id,t,n,r,d,h,parseInt(o),parseInt(u)));case 23:g.next=29;break;case 25:return g.prev=25,g.t0=g.catch(20),alert("Invalid day of the month"),g.abrupt("return");case 29:f=a.props.route.params,p=f.lastPage,m=f.id,a.props.navigation.navigate(p,{id:m,name:t,edate:l,location:r,description:n,etime:c,slots:o,maxslots:u}),g.next=34;break;case 33:alert("Check information again");case 34:case"end":return g.stop()}}),null,null,[[20,25]],Promise)},a.state={id:"",name:"",description:"",location:"",eDate:"",eTime:"",slots:0,maxslots:0},a}return E()(n,[{key:"componentDidMount",value:function(){var e=this.props.route.params,t=e.id,n=e.name,a=e.edate,r=e.location,o=e.description,i=e.etime,s=e.slots,l=e.maxslots;e.lastPage;this.setState({id:t,name:n,description:o,location:r,eDate:a,eTime:i,slots:s,maxslots:l})}},{key:"render",value:function(){var e=this,t=this.props.route.params,n=t.name,a=t.edate,r=t.location,o=t.description,i=t.etime,s=t.maxslots,l=t.lastPage,h=15;return T.a.get("window").width>400&&(h=26),c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:ge.viewBar},c.a.createElement(d.a,{style:ge.backBox,onPress:function(){return e.props.navigation.navigate(l)}},c.a.createElement($.a,{name:"arrow-left",size:42,color:"gray"}))),c.a.createElement(f.a,{style:ge.formstyle},c.a.createElement(J.a,{placeholder:"Event Name",defaultValue:n,onChangeText:this.updateField("name"),style:{fontSize:h}}),c.a.createElement(f.a,{style:ge.inline},c.a.createElement(J.a,{placeholder:"HH:MM",defaultValue:i.substr(0,5),onChangeText:this.updateField("eTime"),label:"Time (24 Hr)",maxLength:5,containerStyle:ge.formInputTime,style:{fontSize:h},labelStyle:{fontSize:h/1.5}}),c.a.createElement(J.a,{placeholder:"YYYY-MM-DD",defaultValue:a.substr(0,10),onChangeText:this.updateField("eDate"),label:"Date",maxLength:10,containerStyle:ge.formInputDate,style:{fontSize:h},labelStyle:{fontSize:h/1.5}})),c.a.createElement(J.a,{placeholder:"Location",defaultValue:r,onChangeText:this.updateField("location"),style:{fontSize:h}}),c.a.createElement(J.a,{placeholder:"Description",defaultValue:o,onChangeText:this.updateField("description"),style:{fontSize:h}}),c.a.createElement(J.a,{placeholder:"Leave Blank for Unlimited",defaultValue:s,onChangeText:this.updateField("maxslots"),label:"Max Attendees",style:{fontSize:h},labelStyle:{fontSize:h/1.5}}),c.a.createElement(d.a,{onPress:this.editEvent,style:ge.finishCreateButton,color:"#ff9900",title:"Submit Event"},c.a.createElement(u.a,{style:ge.finishCreateText},"Save Changes"))))}}]),n}(l.Component),ge=h.a.create({icon:{textAlign:"center",marginTop:-3},viewBar:{display:"flex",padding:20,flexDirection:"row",width:"100%",justifyContent:"space-between"},formstyle:{flex:1,alignItems:"center",width:"90%",marginLeft:"auto",marginRight:"auto",justifyContent:"center"},formInput:{paddingLeft:10,marginBottom:20,borderStyle:"solid",borderWidth:1,borderRadius:10,borderColor:"gray",fontSize:30,width:"100%"},inline:{width:"100%",flexDirection:"row",flexWrap:"wrap",display:"flex"},formInputDescription:{paddingLeft:10,marginBottom:20,borderStyle:"solid",borderWidth:1,borderRadius:10,borderColor:"gray",fontSize:18,width:"100%"},formInputTime:{width:"50%"},formInputDate:{width:"50%"},buttonText:{fontSize:35,color:"grey"},finishCreateButton:{backgroundColor:"#D73F09",borderRadius:12,width:"100%"},finishCreateText:{textAlign:"center",color:"white",fontSize:40,height:20,paddingTop:20,paddingBottom:70,width:"100%"}});function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var ye=Object(K.a)(),be=function(e){w()(n,e);var t=ve(n);function n(e){return y()(this,n),t.call(this,e)}return E()(n,[{key:"render",value:function(){return c.a.createElement(ye.Navigator,null,c.a.createElement(ye.Screen,{name:"ViewMyEvents",component:he,options:{headerShown:!1}}),c.a.createElement(ye.Screen,{name:"CreateEvent",component:Z,options:{headerShown:!1}}),c.a.createElement(ye.Screen,{name:"EditEvent",component:me,options:{headerShown:!1}}),c.a.createElement(ye.Screen,{name:"EventView",component:re,options:{headerShown:!1}}))}}]),n}(l.Component);function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var xe=function(e){w()(n,e);var t=Ee(n);function n(e){var a;return y()(this,n),(a=t.call(this,e)).state={data:null},a}return E()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){e.getEvents()}));return function(){clearTimeout(interval)}}},{key:"getEvents",value:function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(A());case 2:e=n.sent,(t=e.data)&&this.setState({data:t});case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.state.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},c.a.createElement(c.a.Fragment,null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:we.eventbox},t&&ce(this.props.navigation,"ViewEvents",this.state.data,!0))):c.a.createElement(ie.a,{style:{top:"50%"}}))),"Student"!==gUser.type&&c.a.createElement(d.a,{style:we.createbutton,title:"Add Event",color:"#ff9900",onPress:function(){return e.props.navigation.navigate("CreateEvent",{lastPage:"ViewEvents"})}},c.a.createElement($.a,{style:we.icon,name:"edit",size:35,color:"white"})))}}]),n}(l.Component),we=h.a.create({icon:{textAlign:"center",marginTop:-3},createbutton:{position:"fixed",width:60,height:60,borderRadius:30,zIndex:0,backgroundColor:"#D73F09",margin:20,marginLeft:"auto",padding:13,position:"absolute",bottom:35,right:10,textAlign:"center"},eventbox:{flexDirection:"column",flex:1,width:"100%",position:"absolute"}});function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var je=Object(K.a)();!function(e){w()(n,e);var t=Se(n);function n(e){return y()(this,n),t.call(this,e)}E()(n,[{key:"render",value:function(){return c.a.createElement(je.Navigator,null,c.a.createElement(je.Screen,{name:"ViewEvents",component:xe,options:{headerShown:!1}}),c.a.createElement(je.Screen,{name:"CreateEvent",component:Z,options:{headerShown:!1}}),c.a.createElement(je.Screen,{name:"EventView",component:re,options:{headerShown:!1}}),c.a.createElement(je.Screen,{name:"EditEvent",component:me,options:{headerShown:!1}}))}}])}(l.Component);function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var Ce=function(e){w()(n,e);var t=ke(n);function n(e){var a;return y()(this,n),(a=t.call(this,e)).updateField=function(e){return function(t){(t=t.replace(/\W/g,""))!=a.state.search&&a.setState(D()({},e,t),(function(){""!=a.state.search?a.searchEvents():a.getEvent()}))}},a.state={data:null,search:""},a}return E()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){e.getEvent()}));return function(){clearTimeout(interval)}}},{key:"getEvent",value:function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(A());case 2:e=n.sent,t=e.data,this.setState({data:t});case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"searchEvents",value:function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(V(this.state.search.toUpperCase()));case 2:e=n.sent,(t=e.data)&&this.setState({data:t});case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this,t=this.state.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},c.a.createElement(c.a.Fragment,null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:ze.eventbox},t&&ce(this.props.navigation,"ViewEventsWithSearch",this.state.data,!0))):c.a.createElement(ie.a,{style:{top:"50%"}}))),c.a.createElement(J.c,{placeholder:"Search Here...",onChangeText:this.updateField("search"),value:this.state.search,lightTheme:!0,style:ze.searchbar,inputContainerStyle:ze.searchbarcontainer,containerStyle:{backgroundColor:"white"}}),"Student"!==gUser.type&&c.a.createElement(d.a,{style:ze.createbutton,title:"Add Event",color:"#ff9900",onPress:function(){return e.props.navigation.navigate("CreateEvent",{lastPage:"ViewEventsWithSearch"})}},c.a.createElement($.a,{style:ze.icon,name:"edit",size:35,color:"white"})))}}]),n}(l.Component),ze=h.a.create({container:{},eventbox:{flexDirection:"column",flex:1,width:"100%",position:"absolute"},searchbar:{backgroundColor:"white",borderColor:"white"},searchbarcontainer:{backgroundColor:"white",borderColor:"white"},icon:{textAlign:"center",marginTop:-3},createbutton:{position:"fixed",width:60,height:60,borderRadius:30,zIndex:0,backgroundColor:"#D73F09",margin:20,marginLeft:"auto",padding:13,position:"absolute",bottom:18,right:10,textAlign:"center"}});function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var Te=Object(K.a)(),Re=function(e){w()(n,e);var t=De(n);function n(){return y()(this,n),t.apply(this,arguments)}return E()(n,[{key:"render",value:function(){return c.a.createElement(Te.Navigator,null,c.a.createElement(Te.Screen,{name:"ViewEventsWithSearch",component:Ce,options:{headerShown:!1}}),c.a.createElement(Te.Screen,{name:"EventView",component:re,options:{headerShown:!1}}),c.a.createElement(Te.Screen,{name:"EditEvent",component:me,options:{headerShown:!1}}),c.a.createElement(Te.Screen,{name:"CreateEvent",component:Z,options:{headerShown:!1}}))}}]),n}(l.Component),Ie=n(14),Be=n.n(Ie),Fe=n(396);function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var Ae={key:"signedUp",color:"gray",selectedDotColor:"white"},Ue={key:"basic",color:"gray",selectedDotColor:"gray"},Me=function(e){w()(n,e);var t=Pe(n);function n(e){var a;y()(this,n),a=t.call(this,e);var r=new Date;return a.state={date:r,eventData:{},dayEvents:[],day:null,month:{dateString:r.getFullYear()+"/"+("0"+(r.getMonth()+1)).slice(-2)+"/"+("0"+r.getDate()).slice(-2),day:("0"+r.getDate()).slice(-2),month:("0"+(r.getMonth()+1)).slice(-2),timestamp:0,year:r.getFullYear()}},a}return E()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.navigation.addListener("focus",(function(){e.setState({day:null,dayEvents:[]}),e.getMonthData(e.state.month)}));return function(){clearTimeout(interval)}}},{key:"getEvents",value:function(e){var t,n,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Be()(e.year+"-"+e.month+"-"+e.day+" 00:00:00.00"),r.next=3,s.a.awrap(H(Be()(t).format("YYYY-MM-DD")));case 3:n=r.sent,a=n.data,this.setState({dayEvents:a});case 6:case"end":return r.stop()}}),null,this,null,Promise)}},{key:"getMonthData",value:function(e){var t,n,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Be()(e.year+"-"+e.month+"-01 00:00:00.00"),n=t.clone().endOf("month"),a={},r.prev=3,r.next=6,s.a.awrap((o=Be()(t).format("YYYY-MM-DD"),i=Be()(n).format("YYYY-MM-DD"),I.a.get(F+"getByTime/"+o+"/"+i)));case 6:a=r.sent,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),console.error(r.t0);case 12:a.data&&this.setState({eventData:a.data});case 13:case"end":return r.stop()}var o,i}),null,this,[[3,9]],Promise)}},{key:"timeToString",value:function(){return this.state.date.toISOString().split("T")[0]}},{key:"onDayPress",value:function(e){this.setState({day:e.dateString}),"Invalid Date"!=this.state.day&&this.getEvents(e)}},{key:"onMonthChange",value:function(e){this.setState({day:{}}),this.setState({month:e.month}),this.getMonthData(e),this.getEvents(e)}},{key:"render",value:function(){for(var e=this,t={},n=0;n<this.state.eventData.length;n++)t[this.state.eventData[n].edate.slice(0,10)]=this.state.eventData[n].slots>0?{dots:[Ae]}:{dots:[Ue]};return this.state.day&&(t[this.state.day]={selected:!0,selectedColor:"#D73F09",disableTouchEvent:!0}),this.state.eventData?c.a.createElement(c.a.Fragment,null,c.a.createElement(Fe.a,{style:{paddingTop:0,paddingBottom:20,borderBottomWidth:1,borderColor:"gray",shadowColor:"#000000",shadowOpacity:.3,shadowRadius:10,shadowOffset:{height:2,width:0}},theme:{todayTextColor:"#D73F09",calendarBackground:"#f2f2f2",selectedDayBackgroundColor:"#D73F09",selectedDayTextColor:"#ffffff",textDayFontWeight:"600",textMonthFontWeight:"bold",textDayHeaderFontWeight:"500",textDayFontSize:15,textMonthFontSize:24,textDayHeaderFontSize:16},current:this.state.date,minDate:"2021-01-01",maxDate:"2040-12-30",onDayPress:function(t){e.onDayPress(t)},onDayLongPress:function(t){e.onDayPress(t)},monthFormat:"MMMM yyyy",onMonthChange:function(t){e.onMonthChange(t)},hideArrows:!1,renderArrow:function(e){return c.a.createElement($.a,{size:42,color:"gray",name:"left"==e?"arrow-left":"arrow-right"})},hideExtraDays:!1,disableMonthChange:!1,firstDay:1,hideDayNames:!1,showWeekNumbers:!1,onPressArrowLeft:function(e){return e()},onPressArrowRight:function(e){return e()},disableArrowLeft:!1,disableArrowRight:!1,disableAllTouchEventsForDisabledDays:!0,enableSwipeMonths:!0,markingType:"multi-dot",markedDates:t}),this.state.dayEvents?c.a.createElement(se.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:Le.eventbox},this.state.dayEvents&&ce(this.props.navigation,"CalendarView",this.state.dayEvents,"default")))):c.a.createElement(ie.a,{style:{top:"75%"}}),"Student"!==gUser.type?c.a.createElement(d.a,{style:Le.createbutton,title:"Add Event",color:"#ff9900",onPress:function(){return e.props.navigation.navigate("CreateEvent",{lastPage:"CalendarView"})}},c.a.createElement($.a,{style:Le.icon,name:"edit",size:35,color:"white"})):c.a.createElement(f.a,null)):c.a.createElement(ie.a,null)}}]),n}(l.Component),Le=h.a.create({icon:{textAlign:"center",marginTop:-3},createbutton:{position:"fixed",width:60,height:60,borderRadius:30,zIndex:0,backgroundColor:"#D73F09",margin:20,marginLeft:"auto",padding:13,position:"absolute",bottom:18,right:10,textAlign:"center"},eventbox:{flexDirection:"column",flex:1,width:"100%",position:"absolute",top:"50%",height:"100%"}});function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var We=Object(K.a)(),Ve=function(e){w()(n,e);var t=Oe(n);function n(e){return y()(this,n),t.call(this,e)}return E()(n,[{key:"render",value:function(){return c.a.createElement(We.Navigator,null,c.a.createElement(We.Screen,{name:"CalendarView",component:Me,options:{headerShown:!1}}),c.a.createElement(We.Screen,{name:"CreateEvent",component:Z,options:{headerShown:!1}}),c.a.createElement(We.Screen,{name:"EventView",component:re,options:{headerShown:!1}}),c.a.createElement(We.Screen,{name:"EditEvent",component:me,options:{headerShown:!1}}))}}]),n}(l.Component),Ye=(n(496),n(395)),Ne={apiKey:"AIzaSyD5kFbfUQWfRpnsUKiN1NvrDIdYx2WY8Ac",authDomain:"osu-event-planner-9109a.firebaseapp.com",projectId:"osu-event-planner-9109a",storageBucket:"osu-event-planner-9109a.appspot.com",messagingSenderId:"59510543816",appId:"1:59510543816:web:894466f8a24ae3d2cd5cfd",measurementId:"G-HQM7VZ1NDY"},He=Object(m.a)(),$e=(ee.firebase.initializeApp(Ne),(ee.firebase.apps.length?ee.firebase.app():ee.firebase.initializeApp({})).auth()),Je={googleProvider:new ee.firebase.auth.GoogleAuthProvider};var Ge=!1,Ze=!1;var qe=Object(Ye.a)({providers:Je,firebaseAppAuth:$e})((function(e){var t=e.user,n=e.signInWithGoogle,a=Object(l.useState)(!1),r=o()(a,2),i=r[0],h=r[1];return t&&function(e){var t,n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.awrap(P(e));case 3:if(t=a.sent,(n=t.data)&&0!=n.meta.totalResults){a.next=8;break}return Ze=!0,a.abrupt("return");case 8:return gUser.type=n.data[0].attributes.primaryAffiliation,Ge=!0,a.abrupt("return",Ge);case 13:return a.prev=13,a.t0=a.catch(0),a.abrupt("return");case 16:case"end":return a.stop()}}),null,null,[[0,13]],Promise)}(t.email).then((function(){1==Ge?(gUser.email=t.email,gUser.onid=gUser.email.substr(0,gUser.email.indexOf("@")),h(!0)):ee.firebase.auth().signOut().then((function(){alert("Not an email associated with OSU"),window.location.href="/"})).catch((function(e){alert("Could not sign out")}))})),i?c.a.createElement(p.a,{style:{flex:1}},c.a.createElement(He.Navigator,{screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){e.focused;var n,a=e.color;e.size;return"Explore"===t.name?n="ios-add-circle-outline":"MyEvents"===t.name?n="ios-list":"Search"===t.name?n="ios-search":"Calendar"===t.name&&(n="ios-calendar"),c.a.createElement(g.default,{name:n,size:35,color:a})}}},tabBarOptions:{activeTintColor:"#D73F09",inactiveTintColor:"gray"}},c.a.createElement(He.Screen,{name:"MyEvents",component:be,options:{title:" "}}),c.a.createElement(He.Screen,{name:"Calendar",component:Ve,options:{title:" "}}),c.a.createElement(He.Screen,{name:"Search",component:Re,options:{title:" "}}))):c.a.createElement(f.a,{style:Ke.loginArea},c.a.createElement(d.a,{style:Ke.loginButton,onPress:n},c.a.createElement(u.a,{style:Ke.title1},"OSU"),c.a.createElement(u.a,{style:Ke.title2},"Events"),c.a.createElement(u.a,{style:Ke.loginText},"Login"),Ze&&c.a.createElement(u.a,{style:Ke.errorText},"Not an Oregon State Account")))})),Ke=h.a.create({loginArea:{flex:1,justifyContent:"center",alignItems:"center"},loginButton:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#D73F09",borderRadius:16,height:100,width:200,position:"absolute",margin:"auto"},loginText:{color:"white",fontSize:32},errorText:{zIndex:-1,bottom:-225,fontSize:22,color:"tomato",textAlign:"center",width:300,height:200,position:"absolute",margin:"auto",marginTop:40},title1:{zIndex:-1,bottom:0,fontSize:64,textAlign:"center",width:300,height:325,position:"absolute",margin:"auto",marginTop:40},title2:{zIndex:-1,bottom:0,fontSize:64,textAlign:"center",width:300,height:250,position:"absolute",margin:"auto",marginTop:40}});Object(a.a)(qe)}},[[404,1,2]]]);
//# sourceMappingURL=app.1bff687b.chunk.js.map